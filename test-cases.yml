---
- summary: |
    Проверка регистрации по имейл
  requirement: |
    Пользователь может регистрироваться
  prerequisites: |
    no data
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку Sign Up
    - Вводим никнейм
    - Вводим имейл
    - Вводим пароль
    - Вводим повторно пароль
    - Нажимаем на кнопку Submit
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Проверка авторизации по имейл
  requirement: |
    Пользователь может авторизоваться по имейл
  prerequisites: |
    no data
  test-data: |
    email=email@email.com password=123123
  steps:
    - Нажимаем на кнопку Sign In
    - Вводим имейл
    - Вводим пароль
    - Нажимаем на кнопку Submit
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка авторизации через GitHub
  requirement: |
    Пользователь может авторизоваться через GitHub
  prerequisites: |
    Пользователь выполнил вход в свой аккаунт Github
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку Sign In
    - Нажимаем на кнопку Sign in with Github
    - Разрешаем доступ в Github
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка авторизации через Discord
  requirement: |
    Пользователь может авторизоваться через Discord
  prerequisites: |
    Пользователь выполнил вход в свой аккаунт Discord
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку Sign In
    - Нажимаем на кнопку Sign in with Discord
    - Разрешаем доступ в Discord
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка создания игры без регистрации
  requirement: |
    Пользователь может создавать игру
  prerequisites: |
    Пользователь не авторизован
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку "TRY SIMPLE BATTLE"
  expected-result: |
    Создалась игра

- summary: |
    Проверка создания игры
  requirement: |
    Пользователь может создавать игру
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку "Create a game"
    - Параметры игры не меняем  
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Создалась игра 

- summary: |
    Проверка создания игры с ботом
  requirement: |
    Пользователь может создавать игру с ботом
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку "Create a game"
    - В разделе "Game Type" выбрать "With a bot"
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Создалась игра с ботом

- summary: |
    Проверка создания игры с другом
  requirement: |
    Пользователь может создавать игру с другом
  prerequisites: |
    Пользователь 2 добавлен в друзья для проверки создания игры
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку "Create a game"
    - В разделе "Game Type" выбрать "With a friend"
    - Выбираем Пользователя 2 в разделе "Choose opponent"
    - Остальные параметры игры не меняем
    - Нажимаем на кнопку "Create battle"
    - Пользователь 2 принимает приглашение в игру
  expected-result: |
    Создалась игра с выбранным другом

- summary: |
    Проверка создания игры с указанным уровнем сложности
  requirement: |
    Пользователь может создавать игру с указанным уровнем сложности
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку "Create a game"
    - В графе "Level" выбираем три звезды
    - Остальные параметры игры не меняем
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Создалась игра с указанным уровнем сложности

- summary: |
    Проверка создания игры с случайной задачей
  requirement: |
    Пользователь может создавать игру с случайной задачей
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку "Create a game"
    - Выбираем в "Choose task by name or tags" "random task"
    - Остальные параметры игры не меняем
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Создалась игра с случайной задачей

- summary: |
    Проверка создания игры с конкретной задачей
  requirement: |
    Пользователь может создавать игру с конкретной задачей
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку "Create a game"
    - Выбираем в "Choose task by name or tags" любую задачу
    - Остальные параметры игры не меняем
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Создалась игра с выбранной задачей

- summary: |
    Проверка создания игры с заданным временем
  requirement: |
    Пользователь может создавать игру с заданным временем 
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no data
  steps:
    - Нажимаем на кнопку "Create a game"
    - Выбираем в "Time control"  с помощью слайдера 10 минут 
    - Остальные параметры игры не меняем
    - Нажимаем на кнопку "Create battle"
  expected-result: |
    Создалась игра с обратным отсчетом в 10 минут

- summary: |
    Проверка переподключения к игре
  requirement: |
    Пользователь может переподключиться к игре пока она идёт
  prerequisites: |
    - Пользователь авторизован
    - Пользователь создал игру
    - Игра идёт
  test-data: |
    no data
  steps:
    - Нажимаем кнопку Back to Home
    - Нажимаем кнопку Continue
  expected-result: |
    Пользователь вернулся в игру

- summary: |
    Проверка возможности проверки решения
  requirement: |
    Пользователь может проверить решение своей задачи
  prerequisites: |
    - Пользователь авторизован
    - Пользователь создал игру
    - Игра идёт
  test-data: |
    no data
  steps:
    - Нажимаем кнопку Run
  expected-result: |
    Происходит проверка решения

- summary: |
    Проверка возможности проверки решения несколько раз
  requirement: |
    Пользователь может проверить решение своей задачи несколько раз
  prerequisites: |
    - Пользователь авторизован
    - Пользователь создал игру
    - Игра идёт
  test-data: |
    no data
  steps:
    - Нажимаем кнопку Run
    - Нажимаем кнопку Run
    - Нажимаем кнопку Run
  expected-result: |
    Происходит проверка решения

- summary: |
    Проверка сдачи в игре
  requirement: |
    Пользователь может сдаться в игре
  prerequisites: |
    - Пользователь авторизован
    - Пользователь создал игру
    - Игра идёт
  test-data: |
    no data
  steps:
    - Нажимаем кнопку Сдаться
  expected-result: |
    Игра завершена, пользователь проиграл

- summary: |
    Проверка победы в игре
  requirement: |
    Пользователь выигрывает при правильном выполнении задания быстрее соперника
  prerequisites: |
    - Пользователь авторизован
    - Пользователь создал игру
    - Игра идёт
    - Соперник не решает задачу
  test-data: |
    no data
  steps:
    - Вводим правильное решение задачи
    - Нажимаем кнопку Run
  expected-result: |
    Игра завершена, пользователь выиграл

- summary: |
    Проверка отображения обратного отсчета об окончании игры
  requirement: |
    Пользователь может видеть обратный отсчет о завершении игры
  prerequisites: |
    - Пользователь авторизован
  test-data: |
    no data
  steps:
    - Создаем игру с ограничением по времени 8 минут
  expected-result: |
    В начавшейся игре есть таймер отсчета времени 8 минут

- summary: |
    Проверка отправки сообщения в чат в активной игре
  requirement: |
    Пользователь может отправить сообщение в чат с соперником
  prerequisites: |
    - Пользователь авторизован
    - Пользователь создал игру
    - Игра идёт
  test-data: |
    no data
  steps:
    - Ввести сообщение в окно чата
    - Нажать кнопку Send
  expected-result: |
    Введеное сообщение отображается в чате

- summary: |
    Проверка смены ника в профиле
  requirement: |
    Пользователь может изменять свой ник
  prerequisites: |
    - Пользователь авторизован
  test-data: |
    no data
  steps:
    - Кликнуть по своему нику в правом верхнем углу
    - В выпадающем меню выбрать пункт Settings
    - В поле Your name написать новый ник
    - Нажать кнопку Save
  expected-result: |
    Ник пользователя изменен